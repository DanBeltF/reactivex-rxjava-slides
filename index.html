<!doctype html>
<html lang="en">

    <head>
        <meta charset="utf-8">

        <title>Reactive Programming</title>

        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

        <link rel="stylesheet" href="css/reveal.css">
        <link rel="stylesheet" href="css/theme/sky.css" id="theme">

        <!-- Custom styles -->
        <link rel="stylesheet" href="css/custom-styles.css">

        <!-- Code syntax highlighting -->
        <link rel="stylesheet" href="lib/css/github.css">

        <!-- Font Awesome -->
        <link rel="stylesheet" href="lib/font-awesome/css/font-awesome.min.css">

        <!-- Printing and PDF exports -->
        <script>
            var link = document.createElement( 'link' );
            link.rel = 'stylesheet';
            link.type = 'text/css';
            link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
            document.getElementsByTagName( 'head' )[0].appendChild( link );
        </script>

        <!--[if lt IE 9]>
        <script src="lib/js/html5shiv.js"></script>
        <![endif]-->
    </head>

    <body>

        <div class="dalai-lama">
            <img src="img/dalai-lama.png">
        </div>

        <div class="reveal">
            <header class="photo-credits backdrop"></header>

            <div class="slides">
                <section>
                    <img src="img/Rx_Logo_S.png" style="margin: 20px">
                    
                    <br><br>
                    <h3>Introduction to</h3>
                    <h2>Reactive Programming</h2>
                    <h4>with RxJS & Angular2</h4>
                    <br>
                    <p>by <a href="http://cvuorinen.net">Carl Vuorinen</a> /
                        <a href="http://twitter.com/cvuorinen">@cvuorinen</a>
                    </p>
                </section>

                <section>
                    <h4>Carl Vuorinen</h4>
                    <div style="width:600px; margin: 0 auto;">
                        <div class="pull-left">
                            <a href="http://w3.fi" target="_blank">
                            <img src="img/w3-logo.png" alt="">
                            <p>
                                <a href="http://w3.fi/rekry/avoimet-tyopaikat/" target="_blank">w3.fi/rekry</a>
                            </p>
                        </a>
                        </div>

                        <div style="text-align:left;float:right;margin-top:30px;">
                            <h5>
                                <i class="fa fa-lg fa-twitter" style="width:1.5em;"></i>
                                <a href="http://twitter.com/cvuorinen" target="_blank">@cvuorinen</a>
                            </h5>
                            <h5>
                                <i class="fa fa-lg fa-github" style="width:1.5em;"></i>
                                <a href="https://github.com/cvuorinen" target="_blank">cvuorinen</a>
                            </h5>
                            <h5>
                                <i class="fa fa-lg fa-rss" style="width:1.5em;"></i>
                                <a href="http://cvuorinen.net" target="_blank">cvuorinen.net</a>
                            </h5>
                        </div>
                    </div>
                </section>

                <section>
                    <p>
                        Reactive == code that <br><strong>reacts to changes</strong>
                    </p>
                    <br>
                    <p>
                        Instead of imperative, <br>where the code <em>executes linearly</em>
                    </p>
                </section>

                <section>
                    <h4 class="rx-title">
                        <img src="img/Rx_Logo_S.png" alt="">
                        ReactiveX
                    </h4>
                    <p style="clear:both;">
                        An API for asynchronous programming <br> with observable streams
                    </p>
                </section>

                <section>
                    <h4>ReactiveX Languages</h4>
                    <ul style="width:40%;float:left;margin-left:15%;">
                        <li>Java: <a href="https://github.com/ReactiveX/RxJava" target="_blank">RxJava</a></li>
                        <li>JavaScript: <a href="https://github.com/Reactive-Extensions/RxJS" target="_blank">RxJS</a></li>
                        <li>C#: <a href="https://github.com/Reactive-Extensions/Rx.NET" target="_blank">Rx.NET</a></li>
                        <li>C#(Unity): <a href="https://github.com/neuecc/UniRx" target="_blank">UniRx</a></li>
                        <li>Scala: <a href="https://github.com/ReactiveX/RxScala" target="_blank">RxScala</a></li>
                        <li>Clojure: <a href="https://github.com/ReactiveX/RxClojure" target="_blank">RxClojure</a></li>
                    </ul>
                    <ul style="width:40%;float:left;">
                        <li>C++: <a href="https://github.com/Reactive-Extensions/RxCpp" target="_blank">RxCpp</a></li>
                        <li>Ruby: <a href="https://github.com/Reactive-Extensions/Rx.rb" target="_blank">Rx.rb</a></li>
                        <li>Python: <a href="https://github.com/ReactiveX/RxPY" target="_blank">RxPY</a></li>
                        <li>Groovy: <a href="https://github.com/ReactiveX/RxGroovy" target="_blank">RxGroovy</a></li>
                        <li>JRuby: <a href="https://github.com/ReactiveX/RxJRuby" target="_blank">RxJRuby</a></li>
                        <li>Kotlin: <a href="https://github.com/ReactiveX/RxKotlin" target="_blank">RxKotlin</a></li>
                    </ul>
                </section>

                <section>
                    <h2>Everything is a Stream</h2>
                    <div class="fragment">
                        <h4>Streams are like collections</h4>
                        <h6>except a bit different</h6>
                    </div>
                </section>

                <section>
                    <h2>Streams are Everywhere</h2>
                </section>

                <section>
                    <h3>Anatomy of a Stream</h3>
                    <h4 class="fragment">
                        <strong>Iterable</strong> stream
                        <br> vs.
                        <br> <em>Observable</em> stream
                    </h4>
                    <div class="fragment callout"
                         data-callout="em:contains('Observable')"
                         data-callout-offset-left="-90"
                         data-callout-offset-top="5"
                         data-callout-offset-size="180">
                         <div class="callout-circle"></div>
                    </div>
                </section>

                <section>
                    <iframe data-autoplay width="640" height="480" src="https://www.youtube.com/embed/hLYMD6R6PvU?rel=0&amp;controls=0&amp;showinfo=0" frameborder="0" allowfullscreen></iframe>
                </section>

                <section>
                    <h3>Observable stream</h3>
                    <pre><code data-trim class="java">
public class Observable {
    Subscription subscribe(Observer observer) { ... }
}

public interface Observer {
    void onCompleted();
    void onError(error);
    void onNext(value);
}

public interface Subscription {
    void unsubscribe();
    boolean isUnsubscribed();
}
                    </code></pre>
                </section>

                <section>
                    <pre><code data-trim class="javascript">
function Observable() { }
/**
 * @param {Observer} observer
 * @returns {Disposable}
 */
Observable.prototype.subscribe = function (observer) { ... }

function Observer() { }
Observer.prototype.onNext = function (value) { ... }
Observer.prototype.onError = function (error) { ... }
Observer.prototype.onCompleted = function () { ... }
                    </code></pre>

                    <pre class="fragment"><code data-trim class="javascript">
/**
 * @param {Function} onNext
 * @param {Function} onError
 * @param {Function} onCompleted
 * @returns {Disposable}
 */
Observable.prototype.subscribe = function (onNext, onError, onCompleted) { ... }
                    </code></pre>
                </section>

                <section data-state="dalai-quote" data-transition="fade">
                    <h3>Most important message</h3>
                    <p>We have to start thinking in terms of streams</p>
                    <blockquote class="backdrop">
                        Live in the moment. Do not forget nor dwell on the past, but do forgive it.
                        Be aware of the future but do not fear or worry about it.
                        Focus on the present moment, and that moment alone.
                        <cite><b>Dalai Lama</b> about programming with Streams</cite>
                    </blockquote>
                </section>

                <section>
                    <h3>Operators</h3>
                    <ul style="width:30%;float:left;margin-left:25%;">
                        <li>map</li>
                        <li>reduce</li>
                        <li>filter</li>
                        <li>scan</li>
                        <li>flatMap</li>
                    </ul>
                    <ul style="width:40%;float:left;">
                        <li>merge</li>
                        <li>zip</li>
                        <li>switch</li>
                        <li>and many more...</li>
                        <li class="fragment">many many many more</li>
                    </ul>
                </section>

                <section>
                    <h4>Visualization with <br> Marble Diagrams</h4>
                    <img src="img/marble-diagram-legend.png" alt="">
                    <p><a target="_blank" href="http://rxmarbles.com/">RxMarbles.com</a></p>
                </section>

                <section>
                    <iframe class="marble-container" src="rxmarbles.html?type=filter" frameborder="0"></iframe>
                </section>

                <section>
                    <iframe class="marble-container" src="rxmarbles.html?type=map" frameborder="0"></iframe>
                </section>

                <section>
                    <iframe class="marble-container" src="rxmarbles.html?type=debounce" frameborder="0"></iframe>
                </section>

                <section>
                    <iframe class="marble-container" src="rxmarbles.html?type=merge" frameborder="0"></iframe>
                </section>

                <section>
                    <iframe class="marble-container" src="rxmarbles.html?type=zip" frameborder="0"></iframe>
                </section>

                <section>
                    <iframe class="marble-container" src="rxmarbles.html?type=count" frameborder="0"></iframe>
                </section>

                <section>
                    <iframe class="marble-container" src="rxmarbles.html?type=reduce" frameborder="0"></iframe>
                </section>

                <section>
                    <h4>ASCII diagrams</h4>
                    <pre><code class="code javascript" contenteditable data-trim>
// letters:
// -----a-----b-----c-----d-----e-----f-----|

const uppercase = letters.map(x => x.toUpperCase());

// -----A-----B-----C-----D-----E-----F-----|

const delayed = uppercase.delay(1000);

// ---------------A-----B-----C-----D-----E-----F-----|

const firstThree = delayed.take(3);

// ---------------A-----B-----C|
                    </code></pre>
                </section>

                <section>
                    <h4><strong>Hot</strong> vs. <em>Cold</em> Observables</h4>
                    <div class="fragment callout position-top"
                         data-callout="strong:contains('Hot')">
                        <div class="callout-text">Each subscription <br>gets same values</div>
                        <div class="callout-arrow"></div>
                    </div>
                    <div class="fragment callout position-bottom"
                         data-callout="em:contains('Cold')">
                        <div class="callout-arrow"></div>
                        <div class="callout-text">Cold Observables <br>are not shared</div>
                    </div>
                </section>

                <section>
                    <div class="cols">
                        <div class="col">
                            <pre><code class="code javascript" contenteditable data-trim>
const source = Rx.Observable
  .interval(1000)
  .take(5)

source.subscribe(
  (x) => print("x = " + x)
);


                            </code></pre>
                        </div>
                        <div class="col output">
                            <pre></pre>
                        </div>
                    </div>
                    <div>
                        <button class="button" onclick="runCode(this)">&#9654;&nbsp; Run</button>
                    </div>
                </section>

                <section>
                    <div class="cols">
                        <div class="col">
                            <pre><code class="code javascript" contenteditable data-trim>
Rx.Observable
  .fromEvent(document, 'keyup')
  .map(event => event.keyCode)
  .filter(key => key > 47 && key < 91)
  .map(key => String.fromCharCode(key))
  .subscribe(key =>
    print(`You pressed: ${key}`))
                            </code></pre>
                        </div>
                        <div class="col output">
                            <pre></pre>
                        </div>
                    </div>
                    <div>
                        <button class="button" onclick="runCode(this)">&#9654;&nbsp; Run</button>
                    </div>
                </section>

                <section>
                    <div class="cols">
                        <div class="col">
                            <pre><code class="code javascript" contenteditable data-trim>
const click$ = Rx.Observable
  .fromEvent(document, 'click')

const clickCount$ = click$
  .buffer(() => click$.debounce(500))
  .map(events => events.length)

clickCount$
  .filter(count => count == 1)
  .subscribe(() =>
    print('Nice click'))

clickCount$
  .filter(count => count == 2)
  .subscribe(() =>
    print('Wow, such doubleclick!'))

clickCount$
  .filter(count => count > 2)
  .subscribe(() =>
    print('So many click, much WOW!!1!'))
                            </code></pre>
                        </div>
                        <div class="col output">
                            <pre></pre>
                        </div>
                    </div>
                    <div>
                        <button class="button" onclick="runCode(this)">&#9654;&nbsp; Run</button>
                    </div>
                </section>

                <section>
                    <h4>Take small &amp; simple events <br>
                        and <strong>compose them</strong> to <br>
                        create more <em>complex events</em>.</h4>
                </section>

                <section>
                    <h4 class="rx-title">
                        <img src="img/angular_hel.png" alt="">
                        Angular2
                    </h4>
                </section>

                <section>
                    <h4>Has <strong>RxJS</strong> as a dependency</h4>
                    <p>Uses the new version 5 (which is still in beta)</p>
                </section>

                <section>
                    <h4>AsyncPipe</h4>
                    <pre><code class="code typescript" data-trim>
import {AsyncPipe} from "angular2/common";

@Component({
  selector: "list",
  pipes: [AsyncPipe],
  template: `&lt;h4&gt;{{ title | async }}&lt;/h4&gt;
             &lt;ul&gt;
               &lt;li *ngFor="#item of items | async"&gt;{{ item }}&lt;/li&gt;
             &lt;/ul&gt;`
})
export class List {
  @Input() title: Observable&lt;string&gt;;
  @Input() items: Observable&lt;string[]&gt;;
}
                    </code></pre>
                    <div class="fragment callout position-top"
                         data-callout="span.hljs-string:contains('list')"
                         data-callout-offset-left="180"
                         data-callout-offset-top="40">
                        <div class="callout-text">Subscribes to the Observable</div>
                        <div class="callout-arrow"></div>
                    </div>
                </section>

                <section>
                    <h4>AsyncPipe & OnPush</h4>
                    <pre><code class="code typescript" data-trim data-noescape>
import {AsyncPipe} from "angular2/common";
<mark>import {ChangeDetectionStrategy} from "angular2/core";</mark>

@Component({
  selector: "list",
  pipes: [AsyncPipe],
  <mark>changeDetection: ChangeDetectionStrategy.OnPush,</mark>
  template: `&lt;h4&gt;{{ title | async }}&lt;/h4&gt;
             &lt;ul&gt;
               &lt;li *ngFor="#item of items | async"&gt;{{ item }}&lt;/li&gt;
             &lt;/ul&gt;`
})
export class List {
  @Input() title: Observable&lt;string&gt;;
  @Input() items: Observable&lt;string[]&gt;;
}
                    </code></pre>
                    <!-- http://plnkr.co/edit/nYJR0DxHjArNoBx20fnm -->
                </section>

                <section>
                    <h4>Control & ngFormControl</h4>
                    <pre><code class="code typescript" data-trim>
import {Control} from "angular2/common";

@Component({
  selector: "search",
  template: `&lt;input [ngFormControl]="search"&gt;`
})
export class Search {
  search: Control = new Control();
  values: Observable&lt;string&gt; = this.search.valueChanges;
}
                    </code></pre>
                </section>

                <section>
                    <h4>DIY valueChanges Observable</h4>
                    <pre><code class="code typescript" data-trim>
import {ViewChild} from "angular2/core";

@Component({
  selector: "search",
  template: `&lt;input #search&gt;`
})
export class Search implements AfterViewInit {
  @ViewChild('search') searchInput;
  valueChanges: Observable&lt;string&gt;;

  ngAfterViewInit() {
    this.valueChanges = Observable
      .fromEvent(this.searchInput.nativeElement, 'change')
      .map(event => event.target.value);
  }
}
                    </code></pre>
                </section>

                <section>
                    <h4>Http</h4>
                    <pre><code class="code typescript" data-trim>
import {Http} from "angular2/http";

@Injectable()
export class GithubSearch {
  private baseUrl = "https://api.github.com";

  constructor(private http: Http) {}

  searchUsers(term: string): Observable&lt;string[]&gt; {
    return this.http.get(this.baseUrl + "/search/users?q=" + term)
      .map(response => response.json())
      .map(result => result.items.map(item => item.login))
      .share();
  }
}
                    </code></pre>
                    <div class="fragment callout position-right"
                         data-callout="span.hljs-string:contains('search')"
                         data-callout-offset-left="-470"
                         data-callout-offset-top="90">
                        <div class="callout-arrow"></div>
                        <div class="callout-text">To prevent duplicate requests</div>
                    </div>
                </section>

                <section>
                    <div style="height:60px;text-align:left;position:relative;">
                        <input type="text" id="autocomplete" style="font-size:16px;padding:5px;">
                        <div id="autocomplete-suggestions"></div>
                    </div>
                    <div class="cols2">
                        <div class="col2">
                            <pre><code class="code typescript" data-trim>
@Component({
    selector: "autocomplete",
    pipes: [AsyncPipe],
    template: `&lt;input [ngFormControl]="search"&gt;
               &lt;ul&gt;
                 &lt;li *ngFor="#suggestion of suggestions | async"&gt;
                   {{ suggestion }}
                 &lt;/li&gt;
               &lt;/ul&gt;`
})
export class Autocomplete {
    public search = new Control();
    public suggestions: Observable&lt;string[]&gt;;

    constructor(github: GithubSearch) {
        this.suggestions = this.search.valueChanges
            .debounceTime(400)
            .map(keyword => keyword.trim())
            .filter(keyword => keyword.length > 0)
            .distinctUntilChanged()
            .map(keyword => github.searchUsers(keyword))
            .switch();
    }
}
                            </code></pre>
                        </div>

                    </div>
                    <!-- http://plnkr.co/edit/sJ7nopEGhhhTXyVuwccf -->
                    <!-- http://plnkr.co/edit/gPInaMHTbVsI17oKQV9u -->
                </section>

                <section>
                    <h4>Component as a Black Box</h4>
                    <img src="img/black-box.png" alt="">
                </section>

                <section>
                    <h3>Demo Time</h3>
                </section>

                <section style="text-align: left;">
                    <h1>THE END</h1>
                    <ul>
                        <li><a href="http://reactivex.io/">ReactiveX</a></li>
                        <li><a href="https://www.youtube.com/watch?v=WKore-AkisY">A
                            Playful Introduction to Rx by Erik Meijer</a></li>
                        <li><a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754">The
                            introduction to Reactive Programming <br> you've been missing</a></li>
                        <li><a href="http://jhusain.github.io/learnrx/">Interactive tutorial
                            to FRP in JavaScript</a></li>
                        <li><a href="https://jhades-blog.herokuapp.com/how-to-build-angular2-apps-using-rxjs-observable-data-services-pitfalls-to-avoid/">How
                            to build Angular 2 apps using <br> Observable Data Services</a></li>
                        <li><a href="https://github.com/cvuorinen/angular2-excel">Demo:
                            Angular 2 Excel</a></li>
                    </ul>
                </section>

            </div>

        </div>

        <script src="lib/js/head.min.js"></script>
        <script src="js/reveal.js"></script>

        <!-- jQuery, Babel, RxJs & my custom js -->
        <!-- copied from node_modules/ to js/ for so they can be committed and work with gh-pages -->
        <script src="js/jquery.min.js"></script> <!-- copy from node_modules/jquery/dist/jquery.min.js -->
        <script src="js/babel.min.js"></script> <!-- copy from node_modules/babel-standalone/babel.min.js -->
        <script src="js/rx.all.min.js"></script> <!-- copy from node_modules/rx/dist/rx.all.min.js -->
        <script src="js/custom-scripts.js"></script>

        <script>

            // Full list of configuration options available at:
            // https://github.com/hakimel/reveal.js#configuration
            Reveal.initialize({
                controls: false,
                progress: true,
                history: true,
                center: true,

                transition: 'slide', // none/fade/slide/convex/concave/zoom

                // Optional reveal.js plugins
                dependencies: [
                    { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
                    { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
                    { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
                    { src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
                    { src: 'plugin/zoom-js/zoom.js', async: true },
                    { src: 'plugin/notes/notes.js', async: true }
                ]
            });

        </script>

    </body>
</html>
